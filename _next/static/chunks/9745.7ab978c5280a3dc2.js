(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9745],{60718:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var s=n(38139),a=n(38900),r=n(30748),i=n(76049),c=n(93867),o=n(74193),l=n(35409),u=n.n(l),p=n(76752),d=n.n(p);let f="/assets/icons/hao/avatar-placeholder.svg",h="https://hao.cnyes.com",m=/\r\n|\n\n|\r|\n/g,y=/[&<>]/g,v=(0,o.z)("div")({name:"Container",class:"cae4h54",propsAsIs:!1}),b=(0,o.z)("div")({name:"HaoUserContainer",class:"hybwzep",propsAsIs:!1}),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.length?e:h;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cnyes";return"".concat(t,"?utm_source=").concat(s,"&utm_medium=").concat(n,"&utm_campaign=").concat(e)}},g=e=>{e.currentTarget.src=f},E={0:null,1:null,2:"yellow-hook",3:"blue-hook"},C=(0,o.z)("a")({name:"HaoImage",class:"h24wfs1",propsAsIs:!1}),w=(0,o.z)("div")({name:"HaoName",class:"h1tw7fs7",propsAsIs:!1}),j=(0,o.z)("a")({name:"ContentContainer",class:"cbexcbk",propsAsIs:!1}),_={"&":"&amp;","<":"&lt;",">":"&gt;"},T=e=>_[e]||e;n(60959);var L=function(e){let{item:t,source:n="home"}=e,{文章Id:s,文章型態:a,標題:o,摘要:l,貼文插件型態:p,長文發布時間:_,_號:L,CreatedAt:N}=t,O=L?L["名稱"]:"",k=L?+L["號Id"]:0,q=L?L["大頭照組"]:null,I=k?x("".concat(h,"/post/").concat(s))("postid",n):"",M=q?"".concat(h).concat("/download_image.ashx?width=92&height=92&mode=crop&file=").concat(encodeURIComponent(q)):f,H=k?x("".concat(h,"/ch/").concat(k))("haoid",n):"",K=L?L["號認證Ids"]:0,A=!!a&&"長文"===a,P=E[K],S=A?o:function(e,t){if(!e||0===e.length)switch(t){case"video":return"(影片分享，點擊前往觀看)";case"pictures":return"(圖片分享，點擊前往觀看)";case"links":return"(連結分享，點擊前往觀看)"}return e}(l,p),U=(0,c.Xh)(new Date(A?_:N).getTime()),z=()=>{(0,i.gv)({[i.Pj.EVENT_NAME]:i.PL.CLICK_TOPIC,[i.Pj.SECTION]:"%p_鉅亨號貼文",[i.Pj.CLICK_ITEM]:O})};return(0,r.jsxs)(v,{children:[(0,r.jsxs)(b,{children:[(0,r.jsxs)(C,{href:H,children:[(0,r.jsx)("img",{src:M,alt:O,onError:g}),(0,r.jsx)("div",{className:u()("badge",P),children:(0,r.jsx)("span",{children:"官方認證"})})]}),(0,r.jsxs)(w,{children:[(0,r.jsx)("a",{href:H,onClick:z,children:(0,r.jsx)("h4",{children:O})}),(0,r.jsx)("a",{className:"time",href:I,children:(0,r.jsx)("time",{suppressHydrationWarning:!0,children:U})})]})]}),(0,r.jsx)(j,{href:I,onClick:z,children:(0,r.jsx)(d(),{unsafeHTML:"".concat(S).replace(y,T).replace(m,"<br />"),maxLine:"3",ellipsisHTML:'<span class="hao-read-more">…查看更多</span>',basedOn:"letters"})})]})},N=n(2812),O=n(98093),k=n(16399).default,q=n(21705),I=n(47434),M=n(35343);let H=e=>{switch(e){case 826:case 827:case 828:case 829:case 862:case 863:case 864:case 865:case 866:case 867:case 868:case 869:case 884:case 891:case 899:case 901:case 907:case 908:case 910:case 911:case 916:default:return"台股";case 877:case 879:case 880:case 881:case 882:case 888:return"台股+國際";case 830:case 831:case 832:case 833:case 912:return"國際+美股";case 897:return"美股";case 892:case 900:return"國際";case 834:case 835:case 836:case 837:case 902:case 903:case 904:case 905:return"A股+港股";case 838:case 885:case 893:return"外匯";case 839:case 840:case 841:case 842:case 843:case 845:case 883:case 887:return"商品期貨";case 846:case 847:case 848:case 849:case 850:return"房產";case 851:case 852:case 853:case 854:case 871:case 872:return"理財+基金";case 886:return"基金";case 873:case 875:case 876:case 894:case 895:case 896:case 898:return"區塊鏈";case 856:case 909:return"科技"}};var K=n(11684),A=n(90275);let P={[i.Pj.EVENT_NAME]:i.PL.CLICK_BUTTON,[i.Pj.SECTION]:"%p_鉅亨號貼文",[i.Pj.CLICK_ITEM]:"看更多"},S={[i.Pj.EVENT_NAME]:i.PL.IMP_PLACEMENT,[i.Pj.SECTION]:"%p_鉅亨號貼文"},U={root:null,rootMargin:"0px",threshold:.1},z=(0,o.z)("div")({name:"Container",class:"c1sn74qb",propsAsIs:!1}),Q=(0,o.z)("div")({name:"PostContainer",class:"p1kg5er3",propsAsIs:!1});var F=e=>{let{categoryId:t=0,isMobile:n}=e,c=t&&t>0&&H(t)||"",{data:o,isError:l}=(0,K.useQuery)((0,a._)((0,s._)({},M.Z.hao.haoApi(c)),{initialData:[]})),u=(0,A.useRef)(0),p=(0,A.useCallback)(()=>{u.current||(u.current=1,(0,i.gv)(S))},[]),d=(0,q.Y)(p,U);return l?null:(0,r.jsxs)(z,{className:"hao-posts",ref:d,children:[(0,r.jsx)(O.Z,{title:n?"鉅亨號":"鉅亨號貼文",RightContent:(0,r.jsx)(N.Z,{url:I.default.anueHaoLink,target:"_self",gtmEvent:P})}),(0,r.jsx)(Q,{children:(0,r.jsx)(k,{gap:24,buttonPadding:-20,children:null==o?void 0:o.map((e,t)=>(0,r.jsx)(L,{item:e},"hao-post-".concat(t)))})})]})};n(68831)},76752:function(e,t,n){var s=n(90275),a=s&&"object"==typeof s&&"default"in s?s:{default:s};function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},o=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"],l=["component","className","unsafeHTML"];function u(e){e.parentNode.replaceChild(document.createTextNode(e.textContent),e)}function p(e){return!!(e.offsetHeight&&(e.offsetWidth||/\S/.test(e.textContent)))}var d={component:"div",unsafeHTML:"",maxLine:1,ellipsis:"…",ellipsisHTML:void 0,className:"",basedOn:void 0,onReflow:function(){},winWidth:void 0},f=Object.keys(d),h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={html:t.unsafeHTML,clamped:!1},n.canvas=null,n.maxLine=0,n.nlUnits=[],n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.initCanvas(),this.reflow(this.props)},n.componentDidUpdate=function(e){e.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==e&&this.reflow(this.props)},n.componentWillUnmount=function(){this.canvas.parentNode.removeChild(this.canvas),this.canvas=null},n.setState=function(t,n){return void 0!==t.clamped&&(this.clamped=t.clamped),e.prototype.setState.call(this,t,n)},n.initCanvas=function(){if(!this.canvas){var e=this.canvas=document.createElement("div");e.className="LinesEllipsis-canvas "+this.props.className,e.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(c).forEach(function(t){e.style[t]=c[t]}),document.body.appendChild(e)}},n.copyStyleToCanvas=function(){var e=this,t=window.getComputedStyle(this.target);o.forEach(function(n){e.canvas.style[n]=t[n]})},n.reflow=function(e){this.maxLine=+e.maxLine||1,this.canvas.innerHTML=e.unsafeHTML;var t=e.basedOn||(/^[\x00-\x7F]+$/.test(e.unsafeHTML)?"words":"letters");!function e(t,n){if("letters"!==n&&"words"!==n)throw Error("Unsupported options basedOn: "+n);if(t.nodeType===Node.TEXT_NODE){var s,a=document.createDocumentFragment();switch(n){case"words":s=t.textContent.split(/\b|(?=\W)/);break;case"letters":s=Array.from(t.textContent)}s.forEach(function(e){var t;a.appendChild(((t=document.createElement("span")).className="LinesEllipsis-unit",t.textContent=e,t))}),t.parentNode.replaceChild(a,t)}else if(t.nodeType===Node.ELEMENT_NODE)for(var r=[].slice.call(t.childNodes),i=r.length,c=0;c<i;c++)e(r[c],n)}(this.canvas,t);var n={clamped:this.putEllipsis(this.calcIndexes()),html:this.canvas.innerHTML};this.setState(n,e.onReflow.bind(this,n))},n.calcIndexes=function(){var e=[0],t=this.nlUnits=Array.from(this.canvas.querySelectorAll(".LinesEllipsis-unit")),n=t.length;if(!t.length)return e;var s=t.find(p);if(!s)return e;for(var a=1,r=s.offsetTop,i=1;i<n&&(!p(t[i])||!(t[i].offsetTop-r>1)||(a++,e.push(i),r=t[i].offsetTop,!(a>this.maxLine)));i++);return e},n.putEllipsis=function(e){if(e.length<=this.maxLine)return!1;this.nlUnits=this.nlUnits.slice(0,e[this.maxLine]);var t=this.nlUnits.pop(),n=this.makeEllipsisSpan();do(function e(t,n){if(n.contains(t)&&t!==n){for(;t.nextElementSibling;)t.parentNode.removeChild(t.nextElementSibling);e(t.parentNode,n)}})(t,this.canvas),(function(e){for(var t=e;t=t.parentNode;)if(/p|div|main|section|h\d|ul|ol|li/.test(t.tagName.toLowerCase()))return t})(t).appendChild(n),t=this.nlUnits.pop();while(t&&(!p(t)||n.offsetHeight>t.offsetHeight||n.offsetTop>t.offsetTop));return t&&u(t),this.nlUnits.forEach(u),!0},n.makeEllipsisSpan=function(){var e=this.props,t=e.ellipsisHTML,n=e.ellipsis,s=document.createElement("span");s.appendChild(document.createElement("wbr"));var a=document.createElement("span");return a.className="LinesEllipsis-ellipsis",t?a.innerHTML=t:a.textContent=n,s.appendChild(a),s},n.isClamped=function(){return this.clamped},n.render=function(){var e=this,t=this.state,n=t.html,s=t.clamped,i=this.props,c=i.component,o=i.className,u=i.unsafeHTML,p=function(e,t){if(null==e)return{};var n,s,a={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(i,l);return a.default.createElement(c,r({className:"LinesEllipsis "+(s?"LinesEllipsis--clamped":"")+" "+o,ref:function(t){return e.target=t}},function(e,t){if(!e||"object"!=typeof e)return e;var n={};return Object.keys(e).forEach(function(s){t.indexOf(s)>-1||(n[s]=e[s])}),n}(p,f)),a.default.createElement("div",{dangerouslySetInnerHTML:{__html:s?n:u}}))},t}(a.default.Component);h.defaultProps=d,e.exports=h},68831:function(e){e.exports={c1sn74qb:"c1sn74qb",p1kg5er3:"p1kg5er3"}},60959:function(e){e.exports={cae4h54:"cae4h54","hao-read-more":"hao-read-more",hybwzep:"hybwzep",h24wfs1:"h24wfs1",badge:"badge","blue-hook":"blue-hook","yellow-hook":"yellow-hook",h1tw7fs7:"h1tw7fs7",time:"time",cbexcbk:"cbexcbk"}},95867:function(e,t,n){"use strict";n.d(t,{kR:function(){return i},no:function(){return r}});var s=e=>{let t=Object.keys(e).sort((e,t)=>e.localeCompare(t));if(t.some(e=>e.startsWith("_")))throw Error('Keys that start with "_" are reserved for Query Key Factory');return t};function a(e){return Object.assign(Object.create(null),e)}function r(e,t){let n={_def:[e]};if(null==t)return a(n);let r=(e,t)=>s(e).reduce((n,s)=>{let i=e[s],c=[...t,s],o=e=>Array.isArray(e),l;if("function"==typeof i){let e=(...e)=>{let t=i(...e);if(o(t))return a({queryKey:[...c,...t]});let n=[...c,...t.queryKey];if("queryFn"in t){let e={queryKey:n,queryFn:t.queryFn};return"contextQueries"in t?a({_ctx:a(Object.fromEntries(r(t.contextQueries,n))),...e}):a({...e})}return"contextQueries"in t?a({_ctx:a(Object.fromEntries(r(t.contextQueries,n))),queryKey:n}):a({queryKey:n})};e._def=c,l=e}else if(null==i)l=a({queryKey:c});else if(o(i))l=a({_def:c,queryKey:[...c,...i]});else if("queryFn"in i){let e={...i.queryKey?{_def:c}:void 0},t=[...c,...i.queryKey??[]],n={queryKey:t,queryFn:i.queryFn};l="contextQueries"in i?a({_ctx:a(Object.fromEntries(r(i.contextQueries,t))),...e,...n}):a({...e,...n})}else if("contextQueries"in i){let e={...i.queryKey?{_def:c}:void 0},t=[...c,...i.queryKey??[]];l=a({_ctx:a(Object.fromEntries(r(i.contextQueries,t))),queryKey:t,...e})}else{let e={...i.queryKey?{_def:c}:void 0};l=a({queryKey:[...c,...i.queryKey??[]],...e})}return n.set(s,l),n},new Map);return a({...Object.fromEntries(r(t,n._def)),...n})}function i(...e){return a(Object.fromEntries(e.reduce((e,t)=>{let[n]=t._def;return e.set(n,{...e.get(n),...t}),e},new Map)))}}}]);
//# sourceMappingURL=9745.7ab978c5280a3dc2.js.map