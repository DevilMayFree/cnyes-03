(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3268],{83268:function(e,t,n){var r;"undefined"==typeof window?n.g:window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,(function(t){return e[t]}).bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t,n){"use strict";n.r(t),(function(e){var n=null;(n="undefined"==typeof window?e:window).anue||(n.anue={});var r={set:function(e,t){n.anue[e]=t},get:function(e){return n.anue[e]},createStatic:function(e,t){var r="static:"+e;return n.anue[r]||(n.anue[e]=t,n.anue[r]={get:function(){return n.anue[e]},set:function(t){n.anue[e]=t}}),n.anue[r]}};n.anue.shared=r,t.default=r}).call(this,n(5))},function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=function(){function e(){var e=this;this.removeItem=function(t){return r(e,void 0,void 0,function(){return o(this,function(e){return[2,this.removeItemImpl(t)]})})},this.setItem=function(t,n){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.validateKey(t),[4,this.setItemImpl(t,n)];case 1:return[2,e.sent()]}})})},this.getItem=function(t){return r(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.validateKey(t),[4,this.getItemImpl(t)];case 1:return[2,e.sent()]}})})},this.setMulti=function(t){return r(e,void 0,void 0,function(){var e,n,r,i;return o(this,function(o){switch(o.label){case 0:for(n in e=[],t)e.push(n);r=0,o.label=1;case 1:return r<e.length?(i=e[r],[4,this.setItemImpl(i,t[i])]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2,!0]}})})}}return e.prototype.validateKey=function(e){if("string"!=typeof e&&"number"!=typeof e)throw{message:"cannot setItem with a key is neither a string or number",detail:e}},e}();t.a=i},function(e,t,n){"use strict";(r=i||(i={})).Social="social",r.Email="email",(o=a||(a={})).Stock="stock",o.MobileApp="mobile-app",o.Crypto="crypto",o.Driver="driver",o.Unknown="unknown";var r,o,i,a,s={Auth:{Events:{StateChange:1,Update:2,Error:3,Loaded:4},Storage:{CognitoId:"anue.cognitoId",IdToken:"anue.idToken",AccessToken:"anue.accessToken",Authorization:"anue.authorization",NewComer:"anue.newcomer",Provider:"anue.provider",Profile:"anue.profile",SSOProvider:"anue.sso"}},Debuggable:{Config:"anue.debuggable.config",Logger:"anue.debuggable.logger"},Storage:{Driver:"anue.storage.driver",Abstract:"anue.storage.abstract"},Network:{Driver:"anue.network.driver",Abstract:"anue.network.abstract"},SupportedChannel:a,SupportedProviderType:i};anue.shared.set("constants.keys",s),t.a=s},function(e,t,n){"use strict";n.r(t),n.d(t,"setDriver",function(){return a}),n.d(t,"getDriver",function(){return s});var r=n(2),o=n(1);n.d(t,"AbstractStorageInterface",function(){return o.a});var i=n(0),a=function(e){return i.default.set(r.a.Storage.Driver,e)},s=function(){return i.default.get(r.a.Storage.Driver)}},function(e,t,n){"use strict";n.r(t),n.d(t,"AbstractNetworkInterface",function(){return i}),n.d(t,"setDriver",function(){return a}),n.d(t,"getDriver",function(){return s}),n.d(t,"addResponseInspector",function(){return c}),n.d(t,"addRequestInspector",function(){return u});var r=anue.shared,o=r.get("constants.keys"),i=r.get("library.net.abstract"),a=function(e){anue.shared.set(o.Network.Driver,e)},s=function(){return anue.shared.get(o.Network.Driver)},u=i.addRequestInterceptor,c=i.addResponseInterceptor,l={BaseNetwork:i,setDriver:a,getDriver:s,clearInterceptors:i.clearInterceptors,addRequestInterceptor:u,addResponseInterceptor:c};anue.shared.set("library.net",l)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=anue.shared,o=r.createStatic("urld.init",!1),i=/[^\=#\?\&]+\=[^&#]+/g,a={parse:function(){if("undefined"!=typeof location){var e=location.hash.match(i)||[],t=location.search.match(i)||[],n={},r=e.concat(t);return r&&r.forEach(function(e){var t=e.split("=");n[t[0].replace("anue_","")]=decodeURIComponent(t[1])}),n}return{}},init:function(){if("undefined"!=typeof location&&!o.get()){o.set(!0);var e=a.parse();r.set("urld",e);var t=location.protocol+"//"+location.hostname+":"+location.port+location.pathname+location.hash.replace(i,"");t=t.replace(/&+/g,""),history.pushState(null,document.title,t)}},get:function(e){return(r.get("urld")||{})[e]}};r.set("utils.urld",a),t.default=a},function(e,t,n){"use strict";n.r(t);var r=function(){var e=this;this.handlers={},this.clear=function(){return e.handlers={}},this.emit=function(t,n){var r=e.handlers[t];r&&r.forEach(function(e){return e(n)})},this.on=function(t,n){return e.handlers[t]=e.handlers[t]||[],e.handlers[t].push(n),function(){var r=e.handlers[t].indexOf(n);r>-1&&e.handlers[t].splice(r,1),n=null}}};anue.shared.set("utils.eventy",r),t.default=r},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)?t.reduce(function(e,t){return e&&e[t]},e):null==e?e:e[t]}n.r(t),anue.shared.set("utils.getty",r),t.default=r},function(e,t,n){"use strict";n.r(t);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=anue.shared,s=new(a.get("utils.eventy")),u=function(e,t){var n=this;if(this.mProxyUri="",this.mTid=1,this.mProxyReady=!1,this.mProxyReadyPromise=null,this.waitForProxy=function(e){return o(n,void 0,void 0,function(){return i(this,function(e){return this.mProxyReady?[2,Promise.resolve()]:[2,this.mProxyReadyPromise]})})},this.rpcCall=function(e,t){return new Promise(function(a,u){return o(n,void 0,void 0,function(){var n,o,c,l=this;return i(this,function(i){switch(i.label){case 0:return[4,this.waitForProxy(e+":"+t.join("."))];case 1:i.sent();try{++this.mTid,n=setTimeout(function(){u({token:"dpi:"+l.mTag+"."+l.mTid,message:"[rpc] failed to load due to request timeout.",detail:r({prefix:e},t)}),clearTimeout(n)},1e4),o="dpi:"+this.mTag+"."+this.mTid,c=s.on(o,function(e){clearTimeout(n),e.error?u(e):a(e),c()}),this.mDpi.contentWindow.postMessage({tid:o,method:e,args:t},"*")}catch(e){u(e)}return[2]}})})})},"undefined"!=typeof window&&window.addEventListener("message",function(e){if(e.origin.indexOf("cnyes.com")>-1||e.origin.indexOf("cnyes.cool")>-1)try{var t=JSON.parse(e.data);if(t.type){var n=t.tid;s.emit(n,t)}}catch(e){}}),!e||!t)throw Error("[rpc] can not be initialized with tag="+e+" proxyUri="+t);this.mProxyUri=t,this.mTag=e;var a="anue-dpi-"+this.mTag,u=document.getElementById(a);u||(this.mProxyReadyPromise=new Promise(function(e,t){(u=document.createElement("iframe")).src=""+n.mProxyUri,u.setAttribute("id",a),u.setAttribute("style","border:0;position:fixed;left:-9999px;top:-9999px;height:1px;width:1px"),u.onload=function(){n.mProxyReady=!0,e()},u.onerror=t,n.mDpi=u,document.body.appendChild(n.mDpi)}))};a.set("utils.rpc",u),t.default=u},function(e,t,n){"use strict";n.r(t);var r=anue.shared.get("utils.obfuscator"),o=r.obfuscate,i=r.defuscate,a="undefined"!=typeof document,s=[119,5,5,1,125,121].reduce(function(e,t){return e+String[i("z\b\x05\x03W|u\bW\x05xy")](t)},""),u="undefined"==typeof location?".beta.cnyes.cool":location.hostname,c=/\.(beta\.|int\.|stage\.)?(cnyes\.(cool|com)|anue\.(in|com))\/?$/.exec(u),l=c?c[0]:"/",f=function(e,t,n,r){void 0===r&&(r=!0),l&&a&&(document.cookie="anue."+e+"="+(r?btoa(o(JSON.stringify(t))):JSON.stringify(t))+"; max-age="+n+"; domain="+l+"; path=/")},h=function(e,t){void 0===t&&(t=!0);var n=null;if(!a)return n;try{var r=function(){if("undefined"==typeof document)return"";var e=atob("ZG9jdW1lbnQ=");return window[e][i(s)]}(),o=String(r).match(RegExp("anue."+e+"=[^;]+"));if(o){var u=String(o[0]).split("=")[1];t&&(u=i(atob(String(u)))),n=JSON.parse(u)}}catch(e){}return n},d={updateSSOCookie:function(e){d.setSSOCookie(e)},setSSOCookie:function(e){f("sso",e,31536e4)},getAuthFlag:function(){return h("ssof")},setAuthFlag:function(e){f("ssof",e,31536e4)},getSSOFlag:function(){return h("ssof")},getSSOCookie:function(){return h("sso")},getCachedUser:function(){return h("ssoc")},cacheValidUser:function(e,t,n){void 0===n&&(n=300),f("ssoc",{cognitoId:e,profile:{avatar:t.avatar,name:t.name,email:t.name}},n)},removeCachedContext:function(){f("sso.express",{},0,!1)},getCachedContext:function(){return h("sso.express",!1)},cacheContext:function(e,t){void 0===t&&(t=864e5),f("sso.express",e,t,!1)},removeCachedUser:function(){f("ssoc",{},0)},removeSSOCookie:function(){l&&["sso","ssoc","sso.express","ssof","ssoem"].forEach(function(e){return f(e,{},0)})},setEmailUser:function(e,t){f("ssoem",[e,t],31536e4)},getEmailUser:function(){return h("ssoem")}};anue.shared.set("utils.sso",d),t.default=d},function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i={},a={"stock-dev":"stock",stock:"stock","global-stock":"stock"},s={"stock-dev":"STOCK",stock:"STOCK","global-stock":"STOCK","global-stock-dev":"STOCK",login:"LOGIN","login-dev":"LOGIN",www:"LOBBY",m:"NEWS_MOBILE",news:"NEWS_DESKTOP",fund:"FUND_DESKTOP",forex:"FOREX_MOBILE",crypto:"CRYPTO",invest:"FUND_OLD_DRIVER"},u=function(){function e(){var t=this;this.baseUrl="",this.setBaseUrl=function(e){return t.baseUrl=e,t},this.send=function(n){var u,c,l;return u=void 0,c=void 0,l=function(){var t,u,c,l,f,h,d,p,v;return o(this,function(o){switch(o.label){case 0:t=e.onRequestInterceptors,u=e.onResponseInterceptors,n.headers=r({},function(){if("undefined"==typeof location)return{"X-System-Kind":"MEDIA","X-Platform":"WEB","X-CNYES-APP":"WEB"};if(i[location.hostname])return i[location.hostname];var e=location.hostname.split(".")[0],t="undefined"==typeof anue?{}:anue["net:x-headers-overrides"]||{},n=r({"X-System-Kind":s[e]||"UNKNOWN","X-Platform":"WEB","X-CNYES-APP":a[e]||"unknown"},t);return i[location.hostname]=n,n}(),n.headers||{}),(c=r({},n)).url=this.baseUrl+n.url,l=0,f=t,o.label=1;case 1:return l<f.length?[4,(0,f[l])(c)]:[3,4];case 2:c=o.sent(),o.label=3;case 3:return l++,[3,1];case 4:return h={},[4,this.request(c,h)];case 5:d=o.sent(),Array.isArray(n.handles)&&n.handles.forEach(function(e){d=e(c,d)||d}),p=0,v=u,o.label=6;case 6:return p<v.length?[4,(0,v[p])(c,d,h)]:[3,9];case 7:d=o.sent(),o.label=8;case 8:return p++,[3,6];case 9:return[4,d];case 10:return[2,o.sent()]}})},new(c||(c=Promise))(function(e,n){function r(e){try{i(l.next(e))}catch(e){n(e)}}function o(e){try{i(l.throw(e))}catch(e){n(e)}}function i(t){t.done?e(t.value):new c(function(e){e(t.value)}).then(r,o)}i((l=l.apply(t,u||[])).next())})}}return e.onRequestInterceptors=[],e.onResponseInterceptors=[],e.clearInterceptors=function(){e.onRequestInterceptors=[],e.onResponseInterceptors=[]},e.addRequestInterceptor=function(t){return e.onRequestInterceptors.push(t),function(){var n=e.onRequestInterceptors.indexOf(t);n>-1&&e.onRequestInterceptors.splice(n,1),t=null}},e.addResponseInterceptor=function(t){return e.onResponseInterceptors.push(t),function(){var n=e.onResponseInterceptors.indexOf(t);n>-1&&e.onResponseInterceptors.splice(n,1),t=null}},e}();anue.shared.set("library.net.abstract",u),t.a=u},function(e,t,n){"use strict";n.r(t),n.d(t,"obfuscate",function(){return r}),n.d(t,"defuscate",function(){return o});var r=function(e,t){void 0===t&&(t=20);for(var n=e.split(""),r=0;r<n.length;r++)126>=n[r].charCodeAt(0)&&(n[r]=String.fromCharCode((n[r].charCodeAt(0)+t)%126));return n.join("")},o=function(e){return r(e,106)};anue.shared.set("utils.obfuscator",{obfuscate:r,defuscate:o})},function(e,t,n){"use strict";n.r(t);var r=function(e){return new Promise(function(t){var n=setTimeout(function(){clearTimeout(n),t()},e)})};anue.shared.set("utils.waitty",r),t.default=r},function(e,t,n){"use strict";n.r(t);var r,o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};(r||(r={})).RefreshToken="refreshToken";var i=anue.shared.get("extern.trackjs"),a=function(e){i&&i.error(e)},s=function(e,t){if(void 0===t&&(t={}),"undefined"!=typeof native)try{switch(e){case"closeWebView":native.member_event(JSON.stringify({action:"anueCloseWebView"}));break;case"anueRequestRefreshToken":native.member_event(JSON.stringify({action:"anueRequestRefreshToken"}));break;case"anueMemberLevelChanged":native.member_event(JSON.stringify({action:"anueMemberLevelChanged"}));break;case"anueAlert":native.member_event(JSON.stringify({action:"anueAlert",title:t.title||"anueAlert is called",message:t.message||"anueAlert is called"}));break;case"anueOpenByBrowser":t&&t.href&&native.member_event(JSON.stringify({action:"anueOpenByBrowser",href:t.href}));break;case"anueGoToPaidNewsTab":native.member_event(JSON.stringify({action:"anueGoToPaidNewsTab"}))}}catch(e){}},u={send:s,addListener:{webViewStatus:function(){"undefined"!=typeof window&&(window.appCallWebCurrentStatus=function(e){switch(e){case 0:window.webViewStatus="onResume";break;case 1:window.webViewStatus="onPause";break;default:window.webViewStatus=e}return"appCallWebCurrentStatus is called from App"})},webViewRefreshToken:function(){"undefined"!=typeof window&&(window.appCallWebRefreshToken=function(e){if(window._fetchingWebViewRefreshToken){var t=new CustomEvent(r.RefreshToken,{detail:e});window.dispatchEvent(t)}return"appCallWebRefreshToken is called from App"})}},get:{webViewStatus:function(){return window.webViewStatus},webViewRefreshToken:function(){var e,t,n,i;return e=this,t=void 0,n=void 0,i=function(){var e;return o(this,function(t){return"undefined"!=typeof window?(window._fetchingWebViewRefreshToken=!0,e=new Promise(function(e,t){var n=setTimeout(function(){clearTimeout(n),window._fetchingWebViewRefreshToken=!1,t("timeout")},5e3)}),[2,Promise.race([new Promise(function(e,t){window.addEventListener(r.RefreshToken,function n(o){var i=o.detail;window._fetchingWebViewRefreshToken=!1,i?(s("anueAlert",{title:"anueAlert - Received token"}),e({statusCode:200,message:"Renew the token from App",items:{identityId:"",token:i}})):(a({message:"Failed",detail:"App Refresh token time out"}),s("anueAlert",{title:"anueAlert - Refresh token failed!"}),t()),window.removeEventListener(r.RefreshToken,n)}),s("anueRequestRefreshToken")}),e]).then(function(e){return e}).catch(function(e){"timeout"===e&&a({message:"Time out",detail:"App Refresh token time out"})})]):[2]})},new(n||(n=Promise))(function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}u((i=i.apply(e,t||[])).next())})}}};anue.shared.set("utils.webview",u),t.default=u},function(e,t,n){"use strict";n.r(t);var r=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o=anue.shared,i=o.createStatic("otac.ctx",{url:"https://login.cnyes.com",engines:{},loaded:{},requests:{}}),a={setServer:function(e){return i.get().server=e,a},loadComponent:function(e,t,n){var a,s,u,c;return void 0===n&&(n=!0),a=void 0,s=void 0,u=void 0,c=function(){var a;return r(this,function(r){switch(r.label){case 0:return!n&&i.get().loaded[e]?[2,o.get("otac:"+e+"."+t)]:(a=anue["otac.ctx"].requests[e+"."+t])?[3,2]:[4,new Promise(function(n){anue["otac.ctx"].requests[e+"."+t]=n,anue["utils.res"].loadScript(i.get().server+"/"+e+"."+t+".js")})];case 1:return r.sent(),[3,4];case 2:return[4,a];case 3:r.sent(),r.label=4;case 4:return i.get().loaded[e]=t,[2,o.get("otac:"+e+"."+t)]}})},new(u||(u=Promise))(function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){t.done?e(t.value):new u(function(e){e(t.value)}).then(n,r)}o((c=c.apply(a,s||[])).next())})},finish:function(e,t,n){var r=anue["otac.ctx"].requests;r[e+"."+t]&&r[e+"."+t](n),r[e+".latest"]&&r[e+"."+t](n)}};o.set("packages.otac",a),t.default=o.get("packages.otac")},function(e,t,n){"use strict";n.r(t);var r=anue.shared,o=r.createStatic("imc.queue",{}),i={register:function(e,t){var n="anue.imc:"+e,i=o.get()[n];r.set(n,t),i&&i.forEach(function(e){return e(t)})},has:function(e){return!!r.get("anue.imc:"+e)},call:function(){var e=[];for(var t in arguments)e.push(arguments[t]);return new Promise(function(t,n){var i="anue.imc:"+e[0],a=r.get(i);a?t(a.apply(null,e.slice(1))):(o.get()[i]||(o.get()[i]=[]),o.get()[i].push(function(n){t(n.apply(null,e.slice(1)))}))})}};r.set("packages.imc",i),t.default=i},function(e,t,n){"use strict";n.r(t);var r,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=anue.shared,u=s.get("constants.endpoints"),c=s.get("constants.keys"),l=s.get("packages.imc"),f=s.get("library.net"),h=s.get("utils.waitty"),d=s.get("utils.urly"),p=s.get("utils.getty"),v=s.get("utils.eventy"),m=s.get("utils.webview"),y="undefined"==typeof document,g=[u.v1User.email.renew(),"/api/v1/user/token/refresh"],b=-1,w=0,S=0,k=function(){function e(t){void 0===t&&(t={});var n=this;this.iid=S++,this.mHost="/",this.removeRequestInspector=null,this.removeResponseInspector=null,this.mProfile=null,this.mSSOToken="",this.mFlag="",this.mStatus="offline",this.mRenewQueuePromise=null,this.mSessionId=-1,this.alwaysSendToken=!1,this.isInWebView=!1,this.isProfileFetching=!1,this.event=new v,this.host=function(e){return n.mHost=e,n},this.isProfileValid=function(e){return!!p(e,["identity_id"])},this.listenChildFrameEvent=function(e){return i(n,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:r.trys.push([0,4,,5]);try{t=JSON.parse(e.data)}catch(e){return[2]}return"ok"===t.status&&t.token?[4,this.commitLoginSuccess({token:t.token,flag:t.flag})]:[3,2];case 1:return r.sent(),[3,3];case 2:if("error"===t.status)throw t;r.label=3;case 3:return[3,5];case 4:return n=r.sent(),this.emitError({detail:{error:n,childEvent:e},message:"[auth] failed to login with child frame"}),[3,5];case 5:return[2]}})})},this.onStateChange=function(e){return n.event.on(c.Auth.Events.StateChange,e),n},this.onError=function(e){return n.event.on(c.Auth.Events.Error,e),n},this.emitError=function(t){e.trackError(t),n.event.emit(c.Auth.Events.Error,o({},t,{context:n.getCredentialContext()}))},this.emitStateChange=function(e){return i(n,void 0,void 0,function(){return a(this,function(t){return this.event.emit(c.Auth.Events.StateChange,{status:e,flag:this.mFlag,context:this.getCredentialContext()}),[2]})})},this.consumeExisting=function(e){return n.commitLoginSuccess(e),n},this.consume=function(){return i(n,void 0,void 0,function(){var t,n,r,o;return a(this,function(i){switch(i.label){case 0:return t="",n="",anue.urld&&anue.urld.token&&(t=anue.urld.token),t?[3,2]:[4,e.getSSOData()];case 1:t=(r=i.sent()).token,n=r.flag,i.label=2;case 2:return t||(o=/(^#|&)token\=[^\&]+/.exec(location.hash)||/(^\?|&)token\=[^\&]+/.exec(location.search))&&(t=o[0].split("=")[1]),t?[4,this.commitLoginSuccess({token:t,flag:n})]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2,!!t]}})})},this.requestNetworkInspector=function(e){return i(n,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.mSSOToken&&(e.auth||this.alwaysSendToken)&&(e.headers=e.headers||{},e.headers.authorization=e.headers.Authorization||e.headers.authorization||"Bearer "+this.mSSOToken,this.tokenFormatter&&(e.headers.authorization=this.tokenFormatter(e,e.headers.authorization))),[4,e];case 1:return[2,t.sent()]}})})},this.responseNetworkInspector=function(e,t,r){return i(n,void 0,void 0,function(){var n,i,s,u,c;return a(this,function(a){switch(a.label){case 0:return n=e.url,i=p(r,["status"]),s=p(e,["extra","resent"]),u=401===i&&!1===g.reduce(function(e,t){return e||n.indexOf(t)>-1},!1),!s&&u&&this.mSSOToken?[3,2]:[4,t];case 1:return[2,a.sent()];case 2:return[4,this.renew("Auth.Interceptor")];case 3:return a.sent()?(e.extra=o({},e.extra,{resent:!0}),[4,this.requestNetworkInspector(e)]):[3,6];case 4:return c=a.sent(),[4,f.getDriver().send(o({},c,{headers:o({},c.headers,{authorization:"Bearer "+this.mSSOToken})}))];case 5:t=a.sent(),a.label=6;case 6:return[4,t];case 7:return[2,a.sent()]}})})},this.renew=function(e){return i(n,void 0,void 0,function(){var t,n;return a(this,function(r){switch(r.label){case 0:t=null,r.label=1;case 1:return r.trys.push([1,3,,4]),this.mRenewQueuePromise,null===this.mRenewQueuePromise&&(this.mRenewQueuePromise=this.quableRenew(e)),[4,this.mRenewQueuePromise];case 2:if(t=r.sent(),this.mRenewQueuePromise&&(this.mRenewQueuePromise=null),!t)throw{message:"[Auth] failed to renew token",detail:t};return[3,4];case 3:return n=r.sent(),this.emitError(n),[3,4];case 4:return[2,t]}})})},this.quableRenew=function(e){return i(n,void 0,void 0,function(){var e,t,n,r,o,i,s;return a(this,function(a){switch(a.label){case 0:return b=Date.now()+1e3*Math.pow(2,w),Date.now()<b?[4,h(1e3*Math.pow(2,w++))]:[3,2];case 1:a.sent(),a.label=2;case 2:return b=-1,w=1,[4,this.refreshToken()];case 3:return(t=p(e=a.sent(),["items","token"]))?[4,this.commitLoginSuccess({token:t,flag:this.mFlag||""})]:[3,5];case 4:return a.sent(),[3,6];case 5:n="undefined"!=typeof window?location.hostname:"www.cnyes.com",o=(r=/\.(stage\.|gamma\.|beta\.|int\.)(cnyes\.cool)\/?$/.exec(n))?"https://login"+r[0]:"https://login.cnyes.com",this.clearCredentials(),this.emitError({message:"Failed to renew access token, invalid response",detail:e}),location&&(i=location.origin,s=location.pathname,location.href=o+"?aink="+i+s+"&token_expired=1"),a.label=6;case 6:return[2,this.getCredentialContext()]}})})},this.refreshToken=function(){return i(n,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.isInWebView?[4,m.get.webViewRefreshToken()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return[4,f.getDriver().send({method:"POST",url:d(this.mHost,"/api/v1/user/token/refresh"),headers:{authorization:"Bearer "+this.mSSOToken}})]}})})},this.updateEmail=function(e){return i(n,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,f.getDriver().send({method:"POST",url:d(this.mHost,"/api/v1/user/profile/completeEmail"),headers:{authorization:"Bearer "+this.mSSOToken},body:{email:e}})];case 1:return(t=n.sent()).nativeStatus>=400?[2,{error:t}]:this.mProfile?(this.mProfile.email=e,[4,r.rpcCall("storage",["set","profile",JSON.stringify(this.mProfile)])]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2,{}]}})})},this.optimisticallyGetProfile=function(){if(!n.mProfile)try{var e=JSON.parse(localStorage["anue.profile"]);n.mProfile=e}catch(e){}return n.mProfile},this.syncProfileFromLocalStorage=function(){return i(n,void 0,void 0,function(){return a(this,function(t){return[2,e.deSerializeAndValidateProfile(localStorage["anue.profile"])]})})},this.syncProfileFromRPCStorage=function(){return i(n,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return[4,r.rpcCall("storage",["get","profile"])];case 1:return t=n.sent(),[2,e.deSerializeAndValidateProfile(p(t,["data"]))]}})})},this.syncProfileFromRemote=function(e){return i(n,void 0,void 0,function(){var t,n,i,s,u,c,l;return a(this,function(a){switch(a.label){case 0:return t="undefined"!=typeof window?location.hostname:"www.cnyes.com",i=(n=/\.(beta\.|int\.)(cnyes\.cool)\/?$/.exec(t))?"https://member-always-right.api"+n[0]:"https://member-always-right.api.cnyes.com",s=null,this.mSSOToken?!e&&this.isProfileValid(this.mProfile)||this.isProfileFetching?[3,2]:(delete localStorage["anue.profile"],r.rpcCall("storage",["delete","profile"]),this.isProfileFetching=!0,[4,f.getDriver().send({url:i+"/member-always-right/api/v1/user/profile?product="+encodeURIComponent("cnyes"),headers:{authorization:"Bearer "+this.mSSOToken},auth:!0})]):[2,s];case 1:c=p(u=a.sent(),["items","user"]),l={cnyes:p(u,["items","cnyes"]),driver:p(u,["items","driver"]),video:p(u,["items","video"])},s=c&&o({},c,{memberships:l}),a.label=2;case 2:return this.isProfileFetching=!1,this.isProfileValid(s)?[2,s]:[2,null]}})})},this.syncProfile=function(e){return i(n,void 0,void 0,function(){var e,t,n,o,i,s,u;return a(this,function(a){switch(a.label){case 0:for(i in e=[this.syncProfileFromLocalStorage,this.syncProfileFromRPCStorage,this.syncProfileFromRemote],t=null,n=!1,o=[],e)o.push(i);s=0,a.label=1;case 1:return s<o.length?[4,e[o[s]]()]:[3,4];case 2:if(t=a.sent(),n=this.isProfileValid(t))return[3,4];a.label=3;case 3:return s++,[3,1];case 4:return a.trys.push([4,8,,9]),n&&"online"===this.mStatus?(this.mProfile=t,[4,r.rpcCall("storage",["set","profile",JSON.stringify(this.mProfile)])]):[3,6];case 5:return a.sent(),[3,7];case 6:this.emitError({message:"Failed to update profile, invalid response.",detail:t}),a.label=7;case 7:return[3,9];case 8:return u=a.sent(),this.emitError({message:"Failed to update profile, rpc failed.",detail:u}),[3,9];case 9:return[2,this.mProfile]}})})},this.login=function(e){location=n.mHost+"/login"},this.commitLoginSuccess=function(t){return i(n,void 0,void 0,function(){var n,r,o;return a(this,function(i){switch(i.label){case 0:return n=t.token,r=t.flag,o=Math.random()+Date.now(),this.mSessionId=o,n?(this.mFlag=r||"",this.mSSOToken=t.token,this.mStatus="online",this.removeRequestInspector||(this.removeRequestInspector=f.addRequestInterceptor(this.requestNetworkInspector)),this.removeResponseInspector||(this.removeResponseInspector=f.addResponseInterceptor(this.responseNetworkInspector)),o!==this.mSessionId?[3,2]:[4,Promise.all([e.cacheSSOData(this.mSSOToken,this.mFlag),this.syncProfile(o)])]):[2,this];case 1:i.sent(),i.label=2;case 2:return this.emitStateChange("online"),[2,this]}})})},this.clearCredentials=function(){return n.mSSOToken="",n.mProfile=null,n.removeRequestInspector&&n.removeRequestInspector(),n.removeResponseInspector&&n.removeResponseInspector(),n.removeRequestInspector=null,n.removeResponseInspector=null,delete localStorage["anue.profile"],r.rpcCall("storage",["delete","profile"]),e.removeSSOData(),n.emitStateChange("offline"),n.mSessionId=-1,n},this.logout=this.clearCredentials,this.getCredentialContext=function(){return{authorization:n.mSSOToken,flag:n.mFlag,profile:n.mProfile}},this.setAuthToken=function(t,r){void 0===r&&(r=""),t&&(e.cacheSSOData(t,r),n.mSSOToken=t,n.syncProfileFromRemote(!0))},this.setIsInWebView=function(e){n.isInWebView=e};var u=t.host,k=t.token,O=t.isWebView;this.alwaysSendToken=!!t.alwaysSendToken,this.mSSOToken=k||"",this.isInWebView=!!O,this.isProfileFetching=!1,r||y||(r=new(s.get("utils.rpc"))("anue.auth",t.rpcHost||function(){var e="https://login.cnyes.com";if("undefined"==typeof location)return e;if("undefined"!=typeof localStorage&&localStorage["anue.auth.rpchost"])e=localStorage["anue.auth.rpchost"];else{var t=location.host,n=[["dev.int.cnyes.cool","https://login.int.cnyes.cool"],["dev.beta.cnyes.cool","https://login.beta.cnyes.cool"],["int.cnyes.cool","https://login.int.cnyes.cool"],["beta.cnyes.cool","https://login.beta.cnyes.cool"],["gamma.cnyes.cool","https://login.gamma.cnyes.cool"],["stage.cnyes.cool","https://login.stage.cnyes.cool"],["cnyes.com","https://login.cnyes.com"],["int.withgod-test.anue.in","https://login.int.cnyes.cool"],["beta.withgod-test.anue.in","https://login.beta.cnyes.cool"],["stage.withgod-test.anue.in","https://login.stage.cnyes.cool"]];for(var r in n)if(t.indexOf(n[r][0])>-1){e=n[r][1];break}}return e+"/dpi.html"}())),t.formatToken&&(this.tokenFormatter=t.formatToken),window._authToken=function(e){return n.mSSOToken=e},u&&(this.mHost=u),!1!==t.isOpener&&window.addEventListener("message",this.listenChildFrameEvent),!1!==t.imc&&(l.has("auth.getCtx")||(l.register("auth.stateChange",function(e){return i(n,void 0,void 0,function(){return a(this,function(t){return this.onStateChange(e),[2,{data:null}]})})}),l.register("auth.getCtx",function(){return i(n,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,{data:this.getCredentialContext()}];case 1:return[2,e.sent()]}})})}),l.register("auth.consume",function(e){return i(n,void 0,void 0,function(){return a(this,function(t){return this.consumeExisting(e),[2]})})})))}return e.trackError=function(e){var t=s.get("extern.trackjs");t&&t.error(e)},e.getSSOData=function(){return i(void 0,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,r.rpcCall("storage",["get","sso"])];case 1:return(e=t.sent()).data?[2,JSON.parse(e.data)]:[2,{token:"",flag:""}]}})})},e.removeSSOData=function(){return i(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,r.rpcCall("storage",["delete","sso"])];case 1:return e.sent(),[2]}})})},e.cacheSSOData=function(e,t){return i(void 0,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return n=JSON.stringify({token:e,flag:t}),[4,r.rpcCall("storage",["set","sso",n])];case 1:return o.sent(),[2]}})})},e.deSerializeAndValidateProfile=function(e){try{return JSON.parse(e)}catch(e){}return null},e}();s.set("packages.auth",k),t.default=k},function(e,t,n){"use strict";function r(e){var t=e.split("?")[1],n={};return t&&(n=t.split("&").reduce(function(e,t){var n=t.split("="),r=n[0],o=n[1];return e[r]=o,e},{})),n}n.r(t),n.d(t,"toObject",function(){return r});var o=function(e){var t="";for(var n in e)t+=(t?"&":"?")+encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t};o.toObject=r,anue.shared.set("utils.paramly",o),t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"loadCSS",function(){return r}),n.d(t,"loadScript",function(){return o});var r=function(e,t){return new Promise(function(n,r){if("undefined"!=typeof document){if(t){var o=document.querySelector("#"+t);o&&o.parentNode&&o.parentNode.removeChild(o)}var i=document.createElement("link");t&&(i.id=t),i.rel="stylesheet",i.href=e,i.onload=n,i.onerror=r,document.head.appendChild(i)}})},o=function(e){return new Promise(function(t,n){if("undefined"!=typeof document){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=n,document.head.appendChild(r)}})},i={loadCSS:r,loadScript:o};anue.shared.set("utils.res",i),t.default=i},function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=String(e.join("/")),r=/[^\:]+\:\/\//.exec(n);return n=n.replace(/[^\:]+\:\/\//,""),r?r[0]+n.replace(/\/+/g,"/"):n.replace(/\/+/g,"/")}n.r(t),anue.shared.set("utils.urly",r),t.default=r},function(e,t,n){"use strict";var r=function(){function e(){}return Object.defineProperty(e,"api",{get:function(){var e=function(){return this.__path};return e.__path="/api",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){Object.defineProperty(e,t,{get:function(){return e.__path+="/"+t,e}})}),e}(e,"v1","user","registration","email","cognitoOpenIdOrRegister","renew","verify","tos","all","profile","v2","resend","password","recovery","reset","new","avatar","notifications","redirect","notification","read","unread")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"v1User",{get:function(){return e.api.v1.user},enumerable:!0,configurable:!0}),e}();anue.shared.set("constants.endpoints",r)},,,,,,,,function(e,t,n){"use strict";n.r(t);var r,o,i,a,s=n(0),u=(n(2),n(21),n(13),n(8),n(7),n(9),n(12),n(18),n(10),n(19),n(20),n(14),n(6)),c=(n(11),n(4)),l=n(3),f=(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=anue.shared.get("library.net.abstract");(r=a||(a={}))[r.JSON=0]="JSON",r[r.BLOB=1]="BLOB",r[r.TEXT=2]="TEXT",r[r.UNKNOWN=3]="UNKNOWN";var v=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.request=function(e,r){return h(n,void 0,void 0,function(){var n,o,i,s;return d(this,function(u){switch(u.label){case 0:e&&"object"==typeof e.body&&(e.headers=e.headers||{},e.body instanceof FormData==!1&&(e.headers["content-type"]="application/json",e.body=JSON.stringify(e.body))),n=null,u.label=1;case 1:return u.trys.push([1,10,,11]),[4,fetch(e.url,{method:e.method,headers:e.headers,body:e.body})];case 2:switch(i=(o=u.sent()).headers.get("content-type")||null,t.getContentType(i)){case a.BLOB:return[3,3];case a.JSON:return[3,5]}return[3,7];case 3:return[4,o.blob()];case 4:case 6:case 8:return n=u.sent(),[3,9];case 5:return[4,o.json()];case 7:return[4,o.text()];case 9:return r.status=o.status,[3,11];case 10:return s=u.sent(),r.status=4999,r.message=s,[3,11];case 11:return n?n.nativeStatus=r.status:n={nativeStatus:r.status},[2,n]}})})},n}return f(t,e),t.getContentType=function(e){return"string"!=typeof e?a.UNKNOWN:e.includes("application/json")?a.JSON:e.includes("text/")?a.TEXT:e.includes("audio")||e.includes("video")||e.includes("image")||e.includes("application/octet")?a.BLOB:a.UNKNOWN},t}(p),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.request=function(e){return h(t,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,{}];case 1:return[2,e.sent()]}})})},t}return f(t,e),t}(p),y="undefined"==typeof fetch?m:v,g=n(1),b=(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.removeItemImpl=function(e){return w(t,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return delete localStorage[e],[4,!0];case 1:return[2,t.sent()]}})})},t.setItemImpl=function(e,n){return w(t,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return localStorage[e]=n,[4,!0];case 1:return[2,t.sent()]}})})},t.getItemImpl=function(e){return w(t,void 0,void 0,function(){return S(this,function(t){switch(t.label){case 0:return[4,localStorage[e]];case 1:return[2,t.sent()]}})})},t}return b(t,e),t}(g.a),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setItemImpl=function(e,n){return w(t,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,!0];case 1:return[2,e.sent()]}})})},t.getItemImpl=function(e){return w(t,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,""];case 1:return[2,e.sent()]}})})},t.removeItemImpl=function(e){return w(t,void 0,void 0,function(){return S(this,function(e){switch(e.label){case 0:return[4,!0];case 1:return[2,e.sent()]}})})},t}return b(t,e),t}(g.a),x="undefined"==typeof localStorage?O:k;n(15),n(16),n(17),n.d(t,"Storage",function(){return l}),n.d(t,"Network",function(){return c}),s.default.set("preset-init",function(){u.default.init()}),l.setDriver(new x),c.setDriver(new y)}])},e.exports=r()}}]);
//# sourceMappingURL=3268-ad823fb63839cc38.js.map